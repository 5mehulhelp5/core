<fieldset data-bind="
	attr: {
		class: 'fieldset payment items ccard ' + domPrefix()
		,id: fid('form_cc')
	}
	,visible: isNewCardChosen
">
	<div class='field type'>
		<div class='control'>
			<ul class='credit-card-types'>
				<!-- ko foreach: {data: getCardTypes(), as: 'item'} -->
				<li class='item' data-bind="css: {
					_active: $parent.selectedCardType() == item,
					_inactive: $parent.selectedCardType() != null && $parent.selectedCardType() != item
				} ">
					<!--ko if: $parent.getIcons(item) -->
					<img data-bind="attr: {
						src: $parent.getIcons(item).url,
						width: $parent.getIcons(item).width,
						height: $parent.getIcons(item).height
					}">
					<!--/ko-->
				</li>
				<!--/ko-->
			</ul>
			<input class='input-text' name='payment[cc_type]' type='hidden' value='' data-bind="
				attr: {
					id: domPrefix() + '_cc_type'
					,'data-container': getCode() + '-cc-type'
				}
				,value: creditCardType"
			/>
		</div>
	</div>
	<!-- 2016-11-12 -->
	<!--ko if: requireCardholder() -->
		<div class='field cardholder required'>
			<label data-bind="attr: {for: fid('cardholder')}" class="label">
				<span><!-- ko df_i18n: 'Cardholder Name'--><!-- /ko --></span>
			</label>
			<div class='control'>
				<input class='input-text' type='text' value='' data-bind="
					attr: {
						autocomplete: off
						,'data-container': getCode() + '-cardholder'
						,'data-validate': JSON.stringify({required: true})
						,id: fid('cardholder')
						,title: $t('Cardholder Name'),
					}
					,value: cardholder
					,valueUpdate: 'keyup'
				"/>
			</div>
		</div>
	<!--/ko-->
	<!-- 2017-06-13 Additional fields -->
	<!--ko if: dfCard_customTemplate_afterCardholder() -->
		<!-- ko template: {name: dfCard_customTemplate_afterCardholder()} --><!-- /ko -->
	<!--/ko-->
	<div class='field number required'>
		<label data-bind="attr: {for: dfCardNumberId()}" class="label">
			<span><!-- ko df_i18n: 'Credit Card Number'--><!-- /ko --></span>
		</label>
		<div class='control'>
			<input class='input-text' type='number' value='' data-bind="
				attr: {
					autocomplete: off
					,'data-container': getCode() + '-cc-number'
					,'data-validate': JSON.stringify({
						'required-number': true
						,'validate-card-number': '#' + fid('cc_type')
						,'validate-cc-type': '#' + fid('cc_type')
					})
					,id: dfCardNumberId()
					,title: $t('Credit Card Number')
				}
				,value: creditCardNumber
				,valueUpdate: 'keyup'
			"/>
		</div>
	</div>
	<div class='field date required' data-bind="attr: {id: fid('cc_type_exp_div')}">
		<label data-bind="attr: {for: fid('expiration')}" class='label'>
			<span><!-- ko df_i18n: 'Expiration Date'--><!-- /ko --></span>
		</label>
		<div class='control'>
			<div class='fields group group-2'>
				<div class='field no-label month'>
					<div class='control'>
						<select class='select month' data-bind="
							attr: {
								'data-container': getCode() + '-cc-month'
								,'data-validate': JSON.stringify({
									required: true
									,'validate-cc-exp': '#' + fid('expiration_yr')
								})
								,id: fid('expiration')
							}
							,enable: true
							,options: getCcMonthsValues()
							,optionsCaption: $t('Month')
							,optionsText: 'month'
							,optionsValue: 'value'
							,value: creditCardExpMonth
						"/>
					</div>
				</div>
				<div class='field no-label year'>
					<div class='control'>
						<select class='select year' data-bind="
							attr: {
								'data-container': getCode() + '-cc-year'
								,'data-validate': JSON.stringify({required:true})
								,id: fid('expiration_yr')
							}
							,enable: true
							,options: getCcYearsValues()
							,optionsValue: 'value'
							,optionsText: 'year'
							,optionsCaption: $t('Year')
							,value: creditCardExpYear
						"/>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class='field cvv required' data-bind="attr: {id: fid('cc_type_cvv_div')}">
		<label data-bind="attr: {for: dfCardVerificationId()}" class='label'>
			<span><!-- ko df_i18n: 'Card Verification Number'--><!-- /ko --></span>
		</label>
		<div class='control _with-tooltip'>
			<input class='input-text cvv' type='number' value='' data-bind="
				attr: {
					'data-container': getCode() + '-cc-cvv'
					,'data-validate': JSON.stringify({
						'required-number':true
						,'validate-cc-cvn':'#' + fid('cc_type')
					})
					,id: dfCardVerificationId()
					,title: $t('Card Verification Number')
				}
				,enable: true
				,value: creditCardVerificationNumber
			"/>
			<div class='field-tooltip toggle'>
				<span class='field-tooltip-action action-cvv' data-toggle='dropdown' tabindex='0' data-bind="
					attr: {title: $t('What is this?')}
					,mageInit: {'dropdown':{'activeClass': '_active'}}
				"><span><!-- ko df_i18n: 'What is this?'--><!-- /ko --></span></span>
				<div class='field-tooltip-content' data-target='dropdown' data-bind='html: getCvvImageHtml()'/>
			</div>
		</div>
	</div>
</fieldset>